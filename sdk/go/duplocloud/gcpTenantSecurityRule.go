// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package duplocloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/duplocloud/pulumi-duplocloud/sdk/go/duplocloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// `GcpTenantSecurityRule` applies gcp security rule to  target tenantId
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/duplocloud/pulumi-duplocloud/sdk/go/duplocloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			myapp, err := duplocloud.NewTenant(ctx, "myapp", &duplocloud.TenantArgs{
//				AccountName: pulumi.String("myapp"),
//				PlanId:      pulumi.String("default"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = duplocloud.NewGcpTenantSecurityRule(ctx, "trule", &duplocloud.GcpTenantSecurityRuleArgs{
//				TenantId:    myapp.TenantId,
//				Name:        pulumi.String("tenant-rule"),
//				Description: pulumi.String("security rule for target tenant"),
//				PortsAndProtocols: duplocloud.GcpTenantSecurityRulePortsAndProtocolArray{
//					&duplocloud.GcpTenantSecurityRulePortsAndProtocolArgs{
//						Ports: pulumi.StringArray{
//							pulumi.String("24"),
//							pulumi.String("23-89"),
//						},
//						ServiceProtocol: pulumi.String("tcp"),
//					},
//					&duplocloud.GcpTenantSecurityRulePortsAndProtocolArgs{
//						Ports: pulumi.StringArray{
//							pulumi.String("100"),
//						},
//						ServiceProtocol: pulumi.String("udp"),
//					},
//				},
//				SourceRanges: pulumi.StringArray{
//					pulumi.String("0.0.0.0/32"),
//				},
//				RuleType:       pulumi.String("ALLOW"),
//				TargetTenantId: pulumi.String("<target-tenant-id>"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Example: Importing an existing GCP storage bucket
//
//   - *TENANT_ID* is the tenant GUID
//
//   - *RULE_NAME* is the  name of the security rule
//
// #
//
// ```sh
// $ pulumi import duplocloud:index/gcpTenantSecurityRule:GcpTenantSecurityRule trule *TENANT_ID*/security-rule/*RULE_NAME*
// ```
type GcpTenantSecurityRule struct {
	pulumi.CustomResourceState

	// The description related to the rule
	Description pulumi.StringOutput `pulumi:"description"`
	Direction   pulumi.StringOutput `pulumi:"direction"`
	// Duplocloud prefixed rule name
	Fullname pulumi.StringOutput `pulumi:"fullname"`
	Kind     pulumi.StringOutput `pulumi:"kind"`
	// Specify rule name
	Name              pulumi.StringOutput                              `pulumi:"name"`
	Network           pulumi.StringOutput                              `pulumi:"network"`
	PortsAndProtocols GcpTenantSecurityRulePortsAndProtocolArrayOutput `pulumi:"portsAndProtocols"`
	Priority          pulumi.IntOutput                                 `pulumi:"priority"`
	// Specify type of access rule (ALLOW , DENY)
	RuleType pulumi.StringOutput `pulumi:"ruleType"`
	SelfLink pulumi.StringOutput `pulumi:"selfLink"`
	// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
	SourceRanges          pulumi.StringArrayOutput `pulumi:"sourceRanges"`
	SourceServiceAccounts pulumi.StringArrayOutput `pulumi:"sourceServiceAccounts"`
	SourceTags            pulumi.StringArrayOutput `pulumi:"sourceTags"`
	TargetServiceAccounts pulumi.StringArrayOutput `pulumi:"targetServiceAccounts"`
	// The GUID of the tenant to which security rule need to be applied
	TargetTenantId pulumi.StringOutput `pulumi:"targetTenantId"`
	// The GUID of the tenant.
	TenantId pulumi.StringOutput `pulumi:"tenantId"`
}

// NewGcpTenantSecurityRule registers a new resource with the given unique name, arguments, and options.
func NewGcpTenantSecurityRule(ctx *pulumi.Context,
	name string, args *GcpTenantSecurityRuleArgs, opts ...pulumi.ResourceOption) (*GcpTenantSecurityRule, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.PortsAndProtocols == nil {
		return nil, errors.New("invalid value for required argument 'PortsAndProtocols'")
	}
	if args.RuleType == nil {
		return nil, errors.New("invalid value for required argument 'RuleType'")
	}
	if args.SourceRanges == nil {
		return nil, errors.New("invalid value for required argument 'SourceRanges'")
	}
	if args.TargetTenantId == nil {
		return nil, errors.New("invalid value for required argument 'TargetTenantId'")
	}
	if args.TenantId == nil {
		return nil, errors.New("invalid value for required argument 'TenantId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource GcpTenantSecurityRule
	err := ctx.RegisterResource("duplocloud:index/gcpTenantSecurityRule:GcpTenantSecurityRule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetGcpTenantSecurityRule gets an existing GcpTenantSecurityRule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetGcpTenantSecurityRule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *GcpTenantSecurityRuleState, opts ...pulumi.ResourceOption) (*GcpTenantSecurityRule, error) {
	var resource GcpTenantSecurityRule
	err := ctx.ReadResource("duplocloud:index/gcpTenantSecurityRule:GcpTenantSecurityRule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering GcpTenantSecurityRule resources.
type gcpTenantSecurityRuleState struct {
	// The description related to the rule
	Description *string `pulumi:"description"`
	Direction   *string `pulumi:"direction"`
	// Duplocloud prefixed rule name
	Fullname *string `pulumi:"fullname"`
	Kind     *string `pulumi:"kind"`
	// Specify rule name
	Name              *string                                 `pulumi:"name"`
	Network           *string                                 `pulumi:"network"`
	PortsAndProtocols []GcpTenantSecurityRulePortsAndProtocol `pulumi:"portsAndProtocols"`
	Priority          *int                                    `pulumi:"priority"`
	// Specify type of access rule (ALLOW , DENY)
	RuleType *string `pulumi:"ruleType"`
	SelfLink *string `pulumi:"selfLink"`
	// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
	SourceRanges          []string `pulumi:"sourceRanges"`
	SourceServiceAccounts []string `pulumi:"sourceServiceAccounts"`
	SourceTags            []string `pulumi:"sourceTags"`
	TargetServiceAccounts []string `pulumi:"targetServiceAccounts"`
	// The GUID of the tenant to which security rule need to be applied
	TargetTenantId *string `pulumi:"targetTenantId"`
	// The GUID of the tenant.
	TenantId *string `pulumi:"tenantId"`
}

type GcpTenantSecurityRuleState struct {
	// The description related to the rule
	Description pulumi.StringPtrInput
	Direction   pulumi.StringPtrInput
	// Duplocloud prefixed rule name
	Fullname pulumi.StringPtrInput
	Kind     pulumi.StringPtrInput
	// Specify rule name
	Name              pulumi.StringPtrInput
	Network           pulumi.StringPtrInput
	PortsAndProtocols GcpTenantSecurityRulePortsAndProtocolArrayInput
	Priority          pulumi.IntPtrInput
	// Specify type of access rule (ALLOW , DENY)
	RuleType pulumi.StringPtrInput
	SelfLink pulumi.StringPtrInput
	// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
	SourceRanges          pulumi.StringArrayInput
	SourceServiceAccounts pulumi.StringArrayInput
	SourceTags            pulumi.StringArrayInput
	TargetServiceAccounts pulumi.StringArrayInput
	// The GUID of the tenant to which security rule need to be applied
	TargetTenantId pulumi.StringPtrInput
	// The GUID of the tenant.
	TenantId pulumi.StringPtrInput
}

func (GcpTenantSecurityRuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*gcpTenantSecurityRuleState)(nil)).Elem()
}

type gcpTenantSecurityRuleArgs struct {
	// The description related to the rule
	Description *string `pulumi:"description"`
	// Specify rule name
	Name              *string                                 `pulumi:"name"`
	PortsAndProtocols []GcpTenantSecurityRulePortsAndProtocol `pulumi:"portsAndProtocols"`
	// Specify type of access rule (ALLOW , DENY)
	RuleType string `pulumi:"ruleType"`
	// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
	SourceRanges []string `pulumi:"sourceRanges"`
	// The GUID of the tenant to which security rule need to be applied
	TargetTenantId string `pulumi:"targetTenantId"`
	// The GUID of the tenant.
	TenantId string `pulumi:"tenantId"`
}

// The set of arguments for constructing a GcpTenantSecurityRule resource.
type GcpTenantSecurityRuleArgs struct {
	// The description related to the rule
	Description pulumi.StringPtrInput
	// Specify rule name
	Name              pulumi.StringPtrInput
	PortsAndProtocols GcpTenantSecurityRulePortsAndProtocolArrayInput
	// Specify type of access rule (ALLOW , DENY)
	RuleType pulumi.StringInput
	// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
	SourceRanges pulumi.StringArrayInput
	// The GUID of the tenant to which security rule need to be applied
	TargetTenantId pulumi.StringInput
	// The GUID of the tenant.
	TenantId pulumi.StringInput
}

func (GcpTenantSecurityRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*gcpTenantSecurityRuleArgs)(nil)).Elem()
}

type GcpTenantSecurityRuleInput interface {
	pulumi.Input

	ToGcpTenantSecurityRuleOutput() GcpTenantSecurityRuleOutput
	ToGcpTenantSecurityRuleOutputWithContext(ctx context.Context) GcpTenantSecurityRuleOutput
}

func (*GcpTenantSecurityRule) ElementType() reflect.Type {
	return reflect.TypeOf((**GcpTenantSecurityRule)(nil)).Elem()
}

func (i *GcpTenantSecurityRule) ToGcpTenantSecurityRuleOutput() GcpTenantSecurityRuleOutput {
	return i.ToGcpTenantSecurityRuleOutputWithContext(context.Background())
}

func (i *GcpTenantSecurityRule) ToGcpTenantSecurityRuleOutputWithContext(ctx context.Context) GcpTenantSecurityRuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GcpTenantSecurityRuleOutput)
}

// GcpTenantSecurityRuleArrayInput is an input type that accepts GcpTenantSecurityRuleArray and GcpTenantSecurityRuleArrayOutput values.
// You can construct a concrete instance of `GcpTenantSecurityRuleArrayInput` via:
//
//	GcpTenantSecurityRuleArray{ GcpTenantSecurityRuleArgs{...} }
type GcpTenantSecurityRuleArrayInput interface {
	pulumi.Input

	ToGcpTenantSecurityRuleArrayOutput() GcpTenantSecurityRuleArrayOutput
	ToGcpTenantSecurityRuleArrayOutputWithContext(context.Context) GcpTenantSecurityRuleArrayOutput
}

type GcpTenantSecurityRuleArray []GcpTenantSecurityRuleInput

func (GcpTenantSecurityRuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*GcpTenantSecurityRule)(nil)).Elem()
}

func (i GcpTenantSecurityRuleArray) ToGcpTenantSecurityRuleArrayOutput() GcpTenantSecurityRuleArrayOutput {
	return i.ToGcpTenantSecurityRuleArrayOutputWithContext(context.Background())
}

func (i GcpTenantSecurityRuleArray) ToGcpTenantSecurityRuleArrayOutputWithContext(ctx context.Context) GcpTenantSecurityRuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GcpTenantSecurityRuleArrayOutput)
}

// GcpTenantSecurityRuleMapInput is an input type that accepts GcpTenantSecurityRuleMap and GcpTenantSecurityRuleMapOutput values.
// You can construct a concrete instance of `GcpTenantSecurityRuleMapInput` via:
//
//	GcpTenantSecurityRuleMap{ "key": GcpTenantSecurityRuleArgs{...} }
type GcpTenantSecurityRuleMapInput interface {
	pulumi.Input

	ToGcpTenantSecurityRuleMapOutput() GcpTenantSecurityRuleMapOutput
	ToGcpTenantSecurityRuleMapOutputWithContext(context.Context) GcpTenantSecurityRuleMapOutput
}

type GcpTenantSecurityRuleMap map[string]GcpTenantSecurityRuleInput

func (GcpTenantSecurityRuleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*GcpTenantSecurityRule)(nil)).Elem()
}

func (i GcpTenantSecurityRuleMap) ToGcpTenantSecurityRuleMapOutput() GcpTenantSecurityRuleMapOutput {
	return i.ToGcpTenantSecurityRuleMapOutputWithContext(context.Background())
}

func (i GcpTenantSecurityRuleMap) ToGcpTenantSecurityRuleMapOutputWithContext(ctx context.Context) GcpTenantSecurityRuleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(GcpTenantSecurityRuleMapOutput)
}

type GcpTenantSecurityRuleOutput struct{ *pulumi.OutputState }

func (GcpTenantSecurityRuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**GcpTenantSecurityRule)(nil)).Elem()
}

func (o GcpTenantSecurityRuleOutput) ToGcpTenantSecurityRuleOutput() GcpTenantSecurityRuleOutput {
	return o
}

func (o GcpTenantSecurityRuleOutput) ToGcpTenantSecurityRuleOutputWithContext(ctx context.Context) GcpTenantSecurityRuleOutput {
	return o
}

// The description related to the rule
func (o GcpTenantSecurityRuleOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Description }).(pulumi.StringOutput)
}

func (o GcpTenantSecurityRuleOutput) Direction() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Direction }).(pulumi.StringOutput)
}

// Duplocloud prefixed rule name
func (o GcpTenantSecurityRuleOutput) Fullname() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Fullname }).(pulumi.StringOutput)
}

func (o GcpTenantSecurityRuleOutput) Kind() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Kind }).(pulumi.StringOutput)
}

// Specify rule name
func (o GcpTenantSecurityRuleOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

func (o GcpTenantSecurityRuleOutput) Network() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.Network }).(pulumi.StringOutput)
}

func (o GcpTenantSecurityRuleOutput) PortsAndProtocols() GcpTenantSecurityRulePortsAndProtocolArrayOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) GcpTenantSecurityRulePortsAndProtocolArrayOutput {
		return v.PortsAndProtocols
	}).(GcpTenantSecurityRulePortsAndProtocolArrayOutput)
}

func (o GcpTenantSecurityRuleOutput) Priority() pulumi.IntOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.IntOutput { return v.Priority }).(pulumi.IntOutput)
}

// Specify type of access rule (ALLOW , DENY)
func (o GcpTenantSecurityRuleOutput) RuleType() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.RuleType }).(pulumi.StringOutput)
}

func (o GcpTenantSecurityRuleOutput) SelfLink() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.SelfLink }).(pulumi.StringOutput)
}

// The lists of IPv4 or IPv6 addresses in CIDR format that specify the source of traffic for a firewall rule
func (o GcpTenantSecurityRuleOutput) SourceRanges() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringArrayOutput { return v.SourceRanges }).(pulumi.StringArrayOutput)
}

func (o GcpTenantSecurityRuleOutput) SourceServiceAccounts() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringArrayOutput { return v.SourceServiceAccounts }).(pulumi.StringArrayOutput)
}

func (o GcpTenantSecurityRuleOutput) SourceTags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringArrayOutput { return v.SourceTags }).(pulumi.StringArrayOutput)
}

func (o GcpTenantSecurityRuleOutput) TargetServiceAccounts() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringArrayOutput { return v.TargetServiceAccounts }).(pulumi.StringArrayOutput)
}

// The GUID of the tenant to which security rule need to be applied
func (o GcpTenantSecurityRuleOutput) TargetTenantId() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.TargetTenantId }).(pulumi.StringOutput)
}

// The GUID of the tenant.
func (o GcpTenantSecurityRuleOutput) TenantId() pulumi.StringOutput {
	return o.ApplyT(func(v *GcpTenantSecurityRule) pulumi.StringOutput { return v.TenantId }).(pulumi.StringOutput)
}

type GcpTenantSecurityRuleArrayOutput struct{ *pulumi.OutputState }

func (GcpTenantSecurityRuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*GcpTenantSecurityRule)(nil)).Elem()
}

func (o GcpTenantSecurityRuleArrayOutput) ToGcpTenantSecurityRuleArrayOutput() GcpTenantSecurityRuleArrayOutput {
	return o
}

func (o GcpTenantSecurityRuleArrayOutput) ToGcpTenantSecurityRuleArrayOutputWithContext(ctx context.Context) GcpTenantSecurityRuleArrayOutput {
	return o
}

func (o GcpTenantSecurityRuleArrayOutput) Index(i pulumi.IntInput) GcpTenantSecurityRuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *GcpTenantSecurityRule {
		return vs[0].([]*GcpTenantSecurityRule)[vs[1].(int)]
	}).(GcpTenantSecurityRuleOutput)
}

type GcpTenantSecurityRuleMapOutput struct{ *pulumi.OutputState }

func (GcpTenantSecurityRuleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*GcpTenantSecurityRule)(nil)).Elem()
}

func (o GcpTenantSecurityRuleMapOutput) ToGcpTenantSecurityRuleMapOutput() GcpTenantSecurityRuleMapOutput {
	return o
}

func (o GcpTenantSecurityRuleMapOutput) ToGcpTenantSecurityRuleMapOutputWithContext(ctx context.Context) GcpTenantSecurityRuleMapOutput {
	return o
}

func (o GcpTenantSecurityRuleMapOutput) MapIndex(k pulumi.StringInput) GcpTenantSecurityRuleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *GcpTenantSecurityRule {
		return vs[0].(map[string]*GcpTenantSecurityRule)[vs[1].(string)]
	}).(GcpTenantSecurityRuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*GcpTenantSecurityRuleInput)(nil)).Elem(), &GcpTenantSecurityRule{})
	pulumi.RegisterInputType(reflect.TypeOf((*GcpTenantSecurityRuleArrayInput)(nil)).Elem(), GcpTenantSecurityRuleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*GcpTenantSecurityRuleMapInput)(nil)).Elem(), GcpTenantSecurityRuleMap{})
	pulumi.RegisterOutputType(GcpTenantSecurityRuleOutput{})
	pulumi.RegisterOutputType(GcpTenantSecurityRuleArrayOutput{})
	pulumi.RegisterOutputType(GcpTenantSecurityRuleMapOutput{})
}
